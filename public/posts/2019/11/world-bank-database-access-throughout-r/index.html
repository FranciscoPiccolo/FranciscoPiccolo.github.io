<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Franciso Piccolo ">
<meta name="description" content="The World Bank was created in 1944 at the Bretton Woords Conferences and its goal is to fight poverty and inequality, throughout investments and support for developing countries. The institution’s mission can be found on its webpage and the first target seeing at the is reduce to 3% the share of people living on extreme poverty until 2030. When the World Bank was created, one of its first responsibilities was to support Europe’s infrastructure reconstrution that had been devastated by the second world war 1." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="/posts/2019/11/world-bank-database-access-throughout-r/" />


    <title>
        
            World Bank database access throughout R :: Glass Frog  — Hello Friend NG Theme
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.753fac8f03736f0edc9be411eb20cee875dd7bb8e73c8155fbf6a629c863f4ca.css">




    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="World Bank database access throughout R">
<meta itemprop="description" content="The World Bank was created in 1944 at the Bretton Woords Conferences and its goal is to fight poverty and inequality, throughout investments and support for developing countries. The institution’s mission can be found on its webpage and the first target seeing at the is reduce to 3% the share of people living on extreme poverty until 2030. When the World Bank was created, one of its first responsibilities was to support Europe’s infrastructure reconstrution that had been devastated by the second world war 1.">
<meta itemprop="datePublished" content="2019-11-30T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-11-30T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1824">
<meta itemprop="image" content="/"/>



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="World Bank database access throughout R"/>
<meta name="twitter:description" content="The World Bank was created in 1944 at the Bretton Woords Conferences and its goal is to fight poverty and inequality, throughout investments and support for developing countries. The institution’s mission can be found on its webpage and the first target seeing at the is reduce to 3% the share of people living on extreme poverty until 2030. When the World Bank was created, one of its first responsibilities was to support Europe’s infrastructure reconstrution that had been devastated by the second world war 1."/>







    <meta property="article:published_time" content="2019-11-30 00:00:00 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">Home</span>
            <span class="logo__cursor" style=
                  "
                   
                   animation-duration:1.3s;">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/books/">Book Review</a></li><li><a href="/posts/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>9 minutes

            

            </p>
        </div>

        <article>
            <h1 class="post-title">
                <a href="/posts/2019/11/world-bank-database-access-throughout-r/">World Bank database access throughout R</a>
            </h1>

            

            <div class="post-content">
                


<p>The World Bank was created in 1944 at the Bretton Woords Conferences and its goal is to fight poverty and inequality, throughout investments and support for developing countries. The institution’s mission can be found on its <a href="https://www.worldbank.org/en/who-we-are">webpage</a> and the first target seeing at the is reduce to 3% the share of people living on extreme poverty until 2030. When the World Bank was created, one of its first responsibilities was to support Europe’s infrastructure reconstrution that had been devastated by the second world war <a href="https://www.economist.com/the-economist-explains/2019/04/09/how-does-the-world-bank-work">1</a>.</p>
<p>In order to reach its purpose, the institution relies on a huge database to support the development of research for countries in need of advise and investments. This database was built and it keeps being by the institution and it can be found <a href="https://data.worldbank.org/indicator">here</a>. Anyone can access this database, including R users, that can count with an API to access this database easier. The World Bank API is presented on the R package “wbstats” and this package will be the focus of this post.</p>
<p>To explore this package in this post, I’ll analyse some indicators controlled by the World Bank. Just to note, this package was created by Jesse Piburn in 2018 january. The indicators that I’ll analyse will be GDP, Gini, Debt and Trade. As well as “wbstats” package, I’ll use other packages to execute the datamanipulation task.</p>
<pre class="r"><code>library(wbstats)
library(tidyverse)
library(ggthemes)
library(ggalt)
library(scales)

theme_graph &lt;- function(){
  theme(
    plot.title = element_text(size = 16),
    plot.subtitle = element_text(size = 12),
    plot.caption = element_text(face = &quot;italic&quot;, size = 9),
    axis.text = element_text(size = 9),
    axis.title = element_text(face = &quot;italic&quot;, size = 9),
    text = element_text(family = &quot;Times New Roman&quot;),
    strip.background = element_rect(fill = &quot;grey&quot;),
    strip.text = element_text(face = &quot;bold&quot;),
    legend.title = element_blank(),
    legend.position = &quot;bottom&quot;
  )
}
  
graph_color &lt;- &quot;#006666&quot;</code></pre>
<p>The “wb” function of the package seems to be the most important, it does the dowload of the data throughout the API e the output is a data.frame object. The main parameters of the function are: “indicator”, “country”, “startdate” and “enddate”. The indicador is a code that can be found on the World Bank URL page, for example, if you wanna take GDP per capita indicator in 2010 dolar, the URL is (<a href="https://data.worldbank.org/indicator/NY.GDP.MKTP.KD?view=chart" class="uri">https://data.worldbank.org/indicator/NY.GDP.MKTP.KD?view=chart</a>) and the code to insert on the “wb” function is <strong>“NY.GDP.MKTP.KD”</strong>. The country parameter can be one country in the iso2c format (e.g. “BR”, “AF” or “US”), a region (e.g. “1A” = Arabic countries“), all countries and regions using”all" or just countries using “countries_only”. Startdate and enddate parameters requires the data that you wanna the indicador, like from data &gt; to date, and these two parameters can be replaced by the parameter “mrv” that means “most recent value” and this parameter will require an integer to indicate how many data points will be dowloaded (e.g. mrv = 5 means the 5 most recent values of the indicator).</p>
<p>Lets see some indicators of the institution to analyse how the database is organized. To start, I’ll extract GDP per capita indicator at 2010 dolar values for the latim america region. In case you have some doubts about the country name, you can check at the indicator webpage.</p>
<pre class="r"><code># extracting the data and saving as a data.frame
df_gdp_pc &lt;- wbstats::wb(indicator = &quot;NY.GDP.PCAP.CD&quot;,
                         country = &quot;all&quot;,
                         startdate = 1990,
                         enddate = 2010)

# filtering the required countries
df_gdp_pc %&gt;% 
  select(country,value,date) %&gt;% 
  filter(country %in% c(&quot;Brazil&quot;,&quot;Chile&quot;,&quot;Ecuador&quot;,
                        &quot;Venezuela, RB&quot;,&quot;Colombia&quot;,
                        &quot;Peru&quot;,&quot;Argentina&quot;,&quot;Bolivia&quot;,
                        &quot;Uruguay&quot;,&quot;Paraguay&quot;)) %&gt;% 
  arrange(date) %&gt;% 
  head(10)</code></pre>
<pre><code>##          country     value date
## 1      Argentina 4333.4830 1990
## 2        Bolivia  709.0597 1990
## 3         Brazil 3100.2805 1990
## 4          Chile 2494.5257 1990
## 5       Colombia 1445.3284 1990
## 6        Ecuador 1489.5295 1990
## 7       Paraguay 1376.1647 1990
## 8           Peru 1196.5869 1990
## 9        Uruguay 2990.3642 1990
## 10 Venezuela, RB 2475.3805 1990</code></pre>
<p>Having the data organized as a data.frame, lets see the GDP per capita of the selected countries between 1990 and 2010.</p>
<pre class="r"><code>df_gdp_pc %&gt;% 
  select(country,value,date) %&gt;% 
  filter(country %in% c(&quot;Brazil&quot;,&quot;Chile&quot;,&quot;Ecuador&quot;,&quot;Venezuela, RB&quot;
                        ,&quot;Colombia&quot;,&quot;Peru&quot;,&quot;Argentina&quot;
                        ,&quot;Bolivia&quot;,&quot;Uruguay&quot;,&quot;Paraguay&quot;)) %&gt;% 
  filter(date %in% c(&quot;1990&quot;,&quot;2010&quot;)) %&gt;% 
  mutate(country = fct_reorder(country,value)) %&gt;% 
  ggplot(aes(x=country,y=value))+
  geom_col(fill=&quot;dark orange&quot;)+
  coord_flip()+
  theme_graph()+
  labs(title = &quot;GDP per Capita&quot;,
       subtitle = &quot;2010 US$ conversion&quot;,
       x = &quot;&quot;,
       y = &quot;&quot;)+
  facet_grid(~date)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>As well as the GDP per capital, it’s interesting to visualize the growth of this indicator. On the following graphs we’ll verify which are the 30 countries that had the greatest variation of this indicator and also the 30 countries with the lowest variation, considering the same period of 1990 to 2010. For this analyse I’ve made a simple “case when” statement to classify the countries in groups of “low income”, “middle income” and “high income”.</p>
<pre class="r"><code>df_gdp_pc_2 &lt;- wbstats::wb(indicator = &quot;NY.GDP.PCAP.CD&quot;,
                           country = &quot;countries_only&quot;,
                           startdate = 1990,
                           enddate = 2010)

df_gdp_pc_2 %&gt;%
  select(date,
         country,
         value) %&gt;% 
  filter(date %in% c(&quot;1990&quot;,max(date))) %&gt;% 
  mutate(gdp_90 = ifelse(date == &quot;1990&quot;,value,0),
         gdp_10 = ifelse(date == &quot;2010&quot;,value,0)) %&gt;% 
  group_by(country) %&gt;% 
  summarise(gdp_90 = sum(gdp_90),
            gdp_10 = sum(gdp_10)) %&gt;% 
  filter(gdp_90 &gt; 0 &amp; gdp_10 &gt; 0) %&gt;% 
  mutate(delta = round(1-(gdp_90/gdp_10),digits = 4),
         income_range = ifelse(gdp_10 &lt;= 5000,&quot;low&quot;,
                        ifelse(gdp_10 &lt;= 15000,&quot;middle&quot;,
                        ifelse(gdp_10 &lt;= 45000,&quot;up_middle&quot;,
                        ifelse(gdp_10 &lt;= 60000,&quot;high&quot;,
                        ifelse(gdp_10 &lt;= 90000,&quot;up_high&quot;,
                        &quot;ultra_rich&quot;)))))) %&gt;% 
  filter(income_range == &quot;low&quot;) %&gt;% 
  arrange(desc(delta)) %&gt;% 
  head(20) %&gt;% 
  ggplot()+
  ggalt::geom_dumbbell(aes(y = fct_reorder(country, gdp_10),
                           x = gdp_90,
                           xend = gdp_10),
  colour = &quot;#3E39CD&quot;, size = 1,
  colour_x = &quot;#BD274A&quot;, colour_xend = &quot;#60AF1A&quot;)+
  scale_x_continuous(labels = scales::comma)+ # separando por vírgula (&#39;000)
  theme_graph()+
  labs(title = &quot;20 countries with the highest per capita GDP variation&quot;,
       subtitle = &quot;Group: Low income (GDP per capita &lt;= 5.000 US$ (2010))&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>The preceding code can be replied, changing the filter “income_range == low”, to middle, up_middle, high and up_high income.</p>
<pre class="r"><code>df_gdp_pc_2 %&gt;%
  select(date,
         country,
         value) %&gt;% 
  filter(date %in% c(&quot;1990&quot;,max(date))) %&gt;% 
  mutate(gdp_90 = ifelse(date == &quot;1990&quot;,value,0),
         gdp_10 = ifelse(date == &quot;2010&quot;,value,0)) %&gt;% 
  group_by(country) %&gt;% 
  summarise(gdp_90 = sum(gdp_90),
            gdp_10 = sum(gdp_10)) %&gt;% 
  filter(gdp_90 &gt; 0 &amp; gdp_10 &gt; 0) %&gt;% 
  mutate(delta = round(1-(gdp_90/gdp_10),digits = 4),
         income_range = ifelse(gdp_10 &lt;= 5000,&quot;low&quot;,
                        ifelse(gdp_10 &lt;= 15000,&quot;middle&quot;,
                        ifelse(gdp_10 &lt;= 45000,&quot;up_middle&quot;,
                        ifelse(gdp_10 &lt;= 60000,&quot;high&quot;,
                        ifelse(gdp_10 &lt;= 90000,&quot;up_high&quot;,
                        &quot;ultra_rich&quot;)))))) %&gt;% 
  filter(income_range == &quot;middle&quot;) %&gt;% 
  arrange(desc(delta)) %&gt;% 
  head(20) %&gt;% 
  ggplot()+
  ggalt::geom_dumbbell(aes(y = fct_reorder(country,gdp_10),
                           x = gdp_90,
                           xend = gdp_10),
  colour = &quot;#3E39CD&quot;, size = 1,
  colour_x = &quot;#BD274A&quot;, colour_xend = &quot;#60AF1A&quot;)+
  scale_x_continuous(labels = comma)+ # separando por vírgula (&#39;000)
  theme_graph()+
  labs(title = &quot;20 countries with the highest per capita GDP variation&quot;,
       subtitle = &quot;Group: Middle income (GDP per capita &lt;= 15.000 US$ (2010))&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>df_gdp_pc_2 %&gt;%
  select(date,
         country,
         value) %&gt;% 
  filter(date %in% c(&quot;1990&quot;,max(date))) %&gt;% 
  mutate(gdp_90 = ifelse(date == &quot;1990&quot;,value,0),
         gdp_10 = ifelse(date == &quot;2010&quot;,value,0)) %&gt;% 
  group_by(country) %&gt;% 
  summarise(gdp_90 = sum(gdp_90),
            gdp_10 = sum(gdp_10)) %&gt;% 
  filter(gdp_90 &gt; 0 &amp; gdp_10 &gt; 0) %&gt;% 
  mutate(delta = round(1-(gdp_90/gdp_10),digits = 4),
         income_range = ifelse(gdp_10 &lt;= 5000,&quot;low&quot;,
                        ifelse(gdp_10 &lt;= 15000,&quot;middle&quot;,
                        ifelse(gdp_10 &lt;= 45000,&quot;up_middle&quot;,
                        ifelse(gdp_10 &lt;= 60000,&quot;high&quot;,
                        ifelse(gdp_10 &lt;= 90000,&quot;up_high&quot;,
                        &quot;ultra_rich&quot;)))))) %&gt;% 
  filter(income_range == &quot;up_middle&quot;) %&gt;% 
  arrange(desc(delta)) %&gt;% 
  head(20) %&gt;% 
  ggplot()+
  ggalt::geom_dumbbell(aes(y = fct_reorder(country,gdp_10),
                           x = gdp_90,
                           xend = gdp_10),
  colour = &quot;#3E39CD&quot;, size = 1,
  colour_x = &quot;#BD274A&quot;, colour_xend = &quot;#60AF1A&quot;)+
  scale_x_continuous(labels = comma)+ # separando por vírgula (&#39;000)
  theme_graph()+
  labs(title = &quot;20 countries with the highest per capita GDP variation&quot;,
       subtitle = &quot;Group: Up Middle income (GDP per capita &lt;= 45.000 US$ (2010))&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>df_gdp_pc_2 %&gt;%
  select(date,
         country,
         value) %&gt;% 
  filter(date %in% c(&quot;1990&quot;,max(date))) %&gt;% 
  mutate(gdp_90 = ifelse(date == &quot;1990&quot;,value,0),
         gdp_10 = ifelse(date == &quot;2010&quot;,value,0)) %&gt;% 
  group_by(country) %&gt;% 
  summarise(gdp_90 = sum(gdp_90),
            gdp_10 = sum(gdp_10)) %&gt;% 
  filter(gdp_90 &gt; 0 &amp; gdp_10 &gt; 0) %&gt;% 
  mutate(delta = round(1-(gdp_90/gdp_10),digits = 4),
         income_range = ifelse(gdp_10 &lt;= 5000,&quot;low&quot;,
                        ifelse(gdp_10 &lt;= 15000,&quot;middle&quot;,
                        ifelse(gdp_10 &lt;= 45000,&quot;up_middle&quot;,
                        ifelse(gdp_10 &lt;= 60000,&quot;high&quot;,
                        ifelse(gdp_10 &lt;= 90000,&quot;up_high&quot;,
                        &quot;ultra_rich&quot;)))))) %&gt;% 
  filter(income_range == &quot;high&quot;) %&gt;% 
  arrange(desc(delta)) %&gt;% 
  head(20) %&gt;% 
  ggplot()+
  ggalt::geom_dumbbell(aes(y = fct_reorder(country,gdp_10),
                           x = gdp_90,
                           xend = gdp_10),
  colour = &quot;#3E39CD&quot;, size = 1,
  colour_x = &quot;#BD274A&quot;, colour_xend = &quot;#60AF1A&quot;)+
  scale_x_continuous(labels = comma)+ # separando por vírgula (&#39;000)
  theme_graph()+
  labs(title = &quot;20 countries with the highest per capita GDP variation&quot;,
       subtitle = &quot;Group: High (GDP per capita &lt;= 60.000 US$ (2010))&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>df_gdp_pc_2 %&gt;%
  select(date,
         country,
         value) %&gt;% 
  filter(date %in% c(&quot;1990&quot;,max(date))) %&gt;% 
  mutate(gdp_90 = ifelse(date == &quot;1990&quot;,value,0),
         gdp_10 = ifelse(date == &quot;2010&quot;,value,0)) %&gt;% 
  group_by(country) %&gt;% 
  summarise(gdp_90 = sum(gdp_90),
            gdp_10 = sum(gdp_10)) %&gt;% 
  filter(gdp_90 &gt; 0 &amp; gdp_10 &gt; 0) %&gt;% 
  mutate(delta = round(1-(gdp_90/gdp_10),digits = 4),
         income_range = ifelse(gdp_10 &lt;= 5000,&quot;low&quot;,
                        ifelse(gdp_10 &lt;= 15000,&quot;middle&quot;,
                        ifelse(gdp_10 &lt;= 45000,&quot;up_middle&quot;,
                        ifelse(gdp_10 &lt;= 60000,&quot;high&quot;,
                        ifelse(gdp_10 &lt;= 90000,&quot;up_high&quot;,
                        &quot;ultra_rich&quot;)))))) %&gt;% 
  filter(income_range == &quot;up_high&quot;) %&gt;% 
  arrange(desc(delta)) %&gt;% 
  head(20) %&gt;% 
  ggplot()+
  ggalt::geom_dumbbell(aes(y = fct_reorder(country,gdp_10),
                           x = gdp_90,
                           xend = gdp_10),
  colour = &quot;#3E39CD&quot;, size = 1,
  colour_x = &quot;#BD274A&quot;, colour_xend = &quot;#60AF1A&quot;)+
  scale_x_continuous(labels = comma)+ # separando por vírgula (&#39;000)
  theme_graph()+
  labs(title = &quot;20 countries with the highest per capita GDP variation&quot;,
       subtitle = &quot;Group: Up High income (GDP per capita &lt;= 90.000 US$ (2010))&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Now lets see, for the same country (i.e. Brazil), the variety of GDP indicators counted by the World Bank.</p>
<ol style="list-style-type: decimal">
<li><p>GDP per capita (PPP)</p></li>
<li><p>GDP per Capita (LCU - Local currency unit)</p></li>
<li><p>GDP per Capita (2010 US$)</p></li>
<li><p>GDP per Capita (current US$)</p></li>
</ol>
<p>When you want bring more than one indicator, you just have to list then as a list. See the following code as an example:</p>
<pre class="r"><code>df_gdp_pc_3 &lt;- wbstats::wb(indicator = c(&quot;NY.GDP.PCAP.PP.CD&quot;,
                                         &quot;NY.GDP.PCAP.CN&quot;,
                                         &quot;NY.GDP.PCAP.KD&quot;,
                                         &quot;NY.GDP.PCAP.CD&quot;),
                           country = &quot;BRA&quot;,mrv = 10)</code></pre>
<p>Lets plot a time series of these 4 indicators.</p>
<pre class="r"><code>df_gdp_pc_3 %&gt;% 
  ggplot(aes(x=date,y=value,group=indicator,color=indicator))+
  geom_line(size=1)+
  geom_point()+
  scale_y_continuous(labels = scales::comma)+
  theme_graph()+
  labs(title = &quot;Brazil GDP in 4 different visions&quot;,
       x = &quot;&quot;,
       y = &quot;&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Continuing with the analysis about economic indicators of the latin america region, lets see the government debt in proportion of the GDP. For this indicator, I’ll bring the last 20 result set starting from the most recent, using the “mrv” parameter.</p>
<pre class="r"><code>df_gov_debt &lt;- wbstats::wb(country = &quot;countries_only&quot;,
                           indicator = &quot;GC.DOD.TOTL.GD.ZS&quot;,
                           mrv = 20)</code></pre>
<p>We can see which latin america country increased its spenditures in proportion of the GDP more. This can occur by an increase in spenditures or by a decrease in the GDP.</p>
<pre class="r"><code>df_gov_debt %&gt;% 
  filter(country %in% c(&quot;Brazil&quot;,&quot;Chile&quot;,&quot;Ecuador&quot;,&quot;Venezuela, RB&quot;,
                        &quot;Colombia&quot;,&quot;Peru&quot;,&quot;Argentina&quot;,&quot;Bolivia&quot;,
                        &quot;Uruguay&quot;,&quot;Paraguay&quot;)) %&gt;% 
  select(country,
         date,
         value) %&gt;% 
  mutate(country = factor(country,
                          levels = c( &quot;Brazil&quot;,
                                      &quot;Bolivia&quot;,
                                      &quot;Colombia&quot;,
                                      &quot;Uruguay&quot;,
                                      &quot;Peru&quot;))) %&gt;% # reordenando os países
  ggplot(aes(x=date,y=value,group=country,color=country))+
  geom_line(size=1)+
  geom_point()+
  theme_graph()+
  labs(title = &quot;Share of debt over GDP&quot;,
       subtitle = &quot;&quot;,
       x = &quot;&quot;,
       y = &quot;&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Now lets see which latin america country have the greatest share of export and import over GDP. This indicator is interesting because it shows the comercial opennes of a country. We can note that Brazil and Argentina are the closest countries of the region.</p>
<pre class="r"><code>wbstats::wb(indicator = &quot;NE.TRD.GNFS.ZS&quot;,country = &quot;countries_only&quot;) %&gt;% 
  filter(country %in% c(&quot;Brazil&quot;,&quot;Chile&quot;,&quot;Ecuador&quot;,&quot;Venezuela, RB&quot;,
                        &quot;Colombia&quot;,&quot;Peru&quot;,&quot;Argentina&quot;,&quot;Bolivia&quot;,
                        &quot;Uruguay&quot;,&quot;Paraguay&quot;)) %&gt;%
  select(country,
         date,
         value) %&gt;% 
  mutate(country = fct_reorder(country,value,.desc = T)) %&gt;% 
  ggplot(aes(x=date,y=value,group=country,color=country))+
  geom_line(size=1,alpha=.6)+
  geom_point()+
  scale_x_discrete(breaks = c(seq(1970,2020,by = 10)))+
  theme_graph()+
  labs(title = &quot;% Exp + Imp over GDP&quot;,
       x = &quot;&quot;,
       y = &quot;&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>And to finish, lets see the Gini index.</p>
<pre class="r"><code>wbstats::wb(indicator = &quot;SI.POV.GINI&quot;,country = &quot;countries_only&quot;,mrv = 10) %&gt;% 
  filter(country %in% c(&quot;Brazil&quot;,&quot;Chile&quot;,&quot;Ecuador&quot;,&quot;Venezuela, RB&quot;,
                        &quot;Colombia&quot;,&quot;Peru&quot;,&quot;Argentina&quot;,
                        &quot;Bolivia&quot;,&quot;Uruguay&quot;,&quot;Paraguay&quot;)) %&gt;%
  select(country,
         date,
         value) %&gt;% 
  mutate(country = fct_reorder(country,value,.desc = T)) %&gt;% 
  ggplot(aes(x=date,y=value,group=country,color=country))+
  geom_line(size=1)+
  theme_graph()+
  labs(title = &quot;Latin America Gini index&quot;,
       x = &quot;&quot;,
       y = &quot;&quot;)</code></pre>
<p><img src="/post/2019-11-30-world-bank-database-access-throughout-R_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>That’s it, I hope that with these examples shown it became possible to understand how the “wbstats” package works. I believe that this database can be pretty useful in a variety of projects.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1824 Words</p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2019-11-29 21:00 -0300</p>
        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h"></span>
                    <hr />
                </div>

                <div class="pagination__buttons">
                    
                        <span class="button previous">
                            <a href="/posts/2020/01/immigration-data-analysis/">
                                <span class="button__icon">←</span>
                                <span class="button__text">Immigration Data Analysis</span>
                            </a>
                        </span>
                    

                    
                        <span class="button next">
                            <a href="/posts/2019/11/residual-analysis-in-econometric-models/">
                                <span class="button__text">Residual analysis in Econometric models</span>
                                <span class="button__icon">→</span>
                            </a>
                        </span>
                    
                </div>
            </div>
        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
                <span><a href="/">Franciso Piccolo</a></span>
            
            <span></span>
            <span> <a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>

    
    
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
        
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true,
                processEnvironments: true
            },
            // Center justify equations in code and markdown cells. Elsewhere
            // we use CSS to left justify single line equations in code cells.
            displayAlign: 'center',
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}},
                linebreaks: { automatic: true }
            }
        });
        </script>
        

</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.4a69500057d68129e88f497d354afe68422eb56de6d15e45dbe2190858ea5a76bfcb096406f992984b241db45f47388ac57ab0376e3b32125bef7a8a6d0f06c4.js" integrity="sha512-SmlQAFfWgSnoj0l9NUr&#43;aEIutW3m0V5F2&#43;IZCFjqWna/ywlkBvmSmEskHbRfRziKxXqwN247MhJb73qKbQ8GxA=="></script>



    </body>
</html>

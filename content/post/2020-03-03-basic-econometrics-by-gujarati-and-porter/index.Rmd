---
title: "Econometria Básica de Gujarati e Porter: Resolvendo Exercícios Propostos"
date: 2020-03-01
math: true
---

Econometria é uma ferramenta (ou técnica) muito usada por economistas, estatísticos e também por outras ciências. Uma definição encontrada nos livros básicos é:

> "Econometria é a aplicação de modelos estatísticos em dados econômicos"

Com base nesta definição, é importante entender a definição de modelos estatísticos e dados econômicos. Em modelos estatísticos, podemos interpretar como equações matemáticas que buscam traduzir um fenômeno estudado, sendo aplicado à coleta, análise e interpretação de dados ou frequência de eventos visando modelar a aleatoriedade e a incerteza. Por outro lado, dados econômicos não possuem uma definição tão clara, porém sabendo que a ciência econômica atua no estudo da alocação dos recursos da sociedade, é possível inferir quando os dados são econômicos.

Estou apresentando estas definições por conta de que neste post irei focar em um livro de Econometria Básica muito usado nos cursos de Economia. O livro foi escrito por **Damodar N. Gujarati** e **Dawn C. Porter** e contêm muitos exercícios usando dados econômicos que achei bastante interessante. Pelo fato de o livro não mostrar as soluções dos problemas, achei válido fazer um post com as soluções de alguns dos exercícios.

![Capa do Livro](./library_images/basic_econometrics_gujarati.png)

Os dados usados nos exercícios estarão em meu repositório do [Github](https://github.com/FranciscoPiccolo/franciscopiccolo.github.io/tree/master/datasets/2020-03-01-basic_econometrics_by_gujarati), em formato ".txt". Para acessar um dataset, basta usar o seguinte comando:

```{r, warning=F, message=F}
# Primeiro chame o pacote 'readr' que contém a função 'read_csv'
library(readr)

# Exemplo com o dataset 'table_1.3'
table_1.3_ipc <- readr::read_delim(file = "https://raw.githubusercontent.com/FranciscoPiccolo/franciscopiccolo.github.io/master/datasets/2020-03-01-basic_econometrics_by_gujarati/table_1.3_ipc.txt",
                                   delim = " ")
```

Porém, ao invés de sempre usar este caminho extenso para trazer o dataset, eu posso criar uma variável contendo este caminho e mudar apenas a última parte, em que indico o nome do dataset (i.e. "table_1.3_ipc.txt").

```{r, warning=F, message=F}
dataset_path <- "https://raw.githubusercontent.com/FranciscoPiccolo/franciscopiccolo.github.io/master/datasets/2020-03-01-basic_econometrics_by_gujarati/"
```

Com isso, para chamar um dataset, basta usar um comando mais curto, com a função "paste".

```{r, warning=F, message=F}
table_1.3_ipc <- 
  readr::read_delim(file = paste(dataset_path,
                               "table_1.3_ipc.txt", 
                               sep = ""),
                  delim = " ")
```

Agora vamos ao que interessa. Para desenvolver os exercícios, vou usar os pacotes abaixo e também uma função para padronizar o design dos gráficos.

```{r, warning=F, message=F}
library(tidyverse)
library(patchwork)

# Função para padronizar o design dos gráficos
theme_graph <- function(){
  theme(
    plot.title = element_text(size = 16),
    plot.subtitle = element_text(size = 12),
    plot.caption = element_text(face = "italic", size = 9),
    axis.text = element_text(size = 9),
    axis.title = element_text(face = "italic", size = 9),
    strip.background = element_rect(fill = "grey"),
    strip.text = element_text(face = "bold"),
    legend.position = "bottom",
    legend.title = element_blank()
  )
}
```

## **Capítulo 1**

1.1. A Tabela 1.3 apresenta dados relativos ao Índice de Preços ao Consumidor (IPC) de sete países industrializados. A base do índice é 1982–1984 = 100.

a. Com base nos dados fornecidos, calcule a taxa de inflação de cada país.

Para resolver este exercício, vamos trazer o dataset necessário.

```{r, message=F, warning=F}
table_1.3_ipc <- 
  readr::read_delim(file = paste(dataset_path,
                               "table_1.3_ipc.txt", 
                               sep = ""),
                  delim = " ") %>% 
  mutate(year = as.character(year))
```

Vamos também ver uma amostra destes dados:

```{r, warning=F, message=F}
table_1.3_ipc %>% 
  head(5) %>% 
  knitr::kable(format.args = list(big.mark = ".", decimal.mark = "."))
```

A inflação para cada país será a variação de um período com base no período anterior. Para realizar este cálculo, basta usar o 'mutate' e a função 'lag'.

```{r, error=F, message=F, warning=F}
table_1.3_ipc %>% 
  mutate(usa_cpi = usa/lag(usa,1)-1,
         canada_cpi = canada/lag(canada,1)-1,
         japan_cpi = japan/lag(japan,1)-1,
         france_cpi = france/lag(france,1)-1,
         germany_cpi = germany/lag(germany,1)-1,
         italy_cpi = italy/lag(italy,1)-1,
         uk_cpi = uk/lag(uk,1)-1) %>% 
  select(year, usa_cpi, canada_cpi, japan_cpi, france_cpi, germany_cpi, italy_cpi, uk_cpi) %>% 
  tidyr::gather("country","values", 2:8) %>% 
  filter(!is.na(values)) %>% 
  ggplot2::ggplot()+
  geom_line(mapping = aes(x = year, 
                          y = values, 
                          group = country, 
                          color = country))+
  scale_y_continuous(labels = scales::percent)+
  scale_color_brewer(type = "qual", palette = 2)+
  scale_x_discrete(breaks = c("1985","1995","2005"))+
  theme_graph()+
  labs(title = "Inflação dos Países Selecionados",
       y = "CPI (Consumer Price Index)")
```

b. Represente graficamente a taxa de inflação de cada país em relação ao tempo (isto é, use o eixo horizontal para o tempo e o eixo vertical para a taxa de inflação).

c. Que conclusões gerais é possível tirar sobre a evolução da inflação nos sete países?

d. Em que país a taxa de inflação parece ser a mais flutuante? Há alguma explicação para isso?






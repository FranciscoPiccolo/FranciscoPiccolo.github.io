mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = fk_company, color = fk_company))+
scale_y_continuous(labels = scales::percent)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(legend.position = "none")+
facet_wrap(~fk_company)+
labs(title = "Sucess Page Answer Rate",
y = "% GTV scored",
caption = "GTV not cancelled and not not invalid")
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_3 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_3_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_3_end'))))
query_3$sale_date <- lubridate::ymd(query_3$sale_date)
query_3 %>%
head()
query_3 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = is_marketplace_in, color = is_markeplace_in))+
facet_wrap(~payment_method)
query_3 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = is_marketplace_in, color = is_marketplace_in))+
facet_wrap(~payment_method)
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_4 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_4_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_4_end'))))
query_4$sale_date <- lubridate::ymd(query_4$sale_date)
query_4 %>%
head()
query_4 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = is_first_order, color = is_first_order))
query_4 %>%
mutate(is_first_order = as.factor(is_first_order)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = is_first_order, color = is_first_order))
query_4 %>%
mutate(is_first_order = as.factor(is_first_order),
day = lubridate::yday(sale_order_store_date)) %>%
head()
query_4 %>%
mutate(is_first_order = as.factor(is_first_order),
day = lubridate::yday(sale_date)) %>%
head()
query_4 %>%
mutate(is_first_order = as.factor(is_first_order),
year_day = lubridate::yday(sale_date)) %>%
ggplot()+
geom_line(mapping = aes(x = year_day, y = answer_rate, group = is_first_order, color = is_first_order))
query_4 %>%
mutate(is_first_order = as.factor(is_first_order),
year = substr(sale_date,0,4),
year_day = lubridate::yday(sale_date)) %>%
ggplot()+
geom_line(mapping = aes(x = year_day, y = answer_rate, group = year, color = year))+
facet_wrap(~is_first_order)
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_5 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_5_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_5_end'))))
query_5$sale_date <- lubridate::ymd(query_5$sale_date)
query_5 %>%
head()
query_5 %>%
mutate(is_first_order = as.factor(is_first_order)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, color = is_first_order, group = is_first_order))+
facet_wrap(~fk_company)
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_5 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_5_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_5_end'))))
query_5$sale_date <- lubridate::ymd(query_5$sale_date)
query_5 %>%
mutate(is_first_order = as.factor(is_first_order)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, color = is_first_order, group = is_first_order))+
facet_wrap(~fk_company)
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_6 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_6_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_6_end'))))
query_6$sale_date <- lubridate::ymd(query_6$sale_date)
query_6 %>%
head()
query_6 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = share_first_order, group = fk_company, color = fk_company))
query_6 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = share_first_order, group = fk_company, color = fk_company))
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_7 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_7_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_7_end'))))
query_7$sale_date <- lubridate::ymd(query_7$sale_date)
query_7 %>%
head()
query_7 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = avg_answer_rate, group = fk_company, color = fk_company))
query_7 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = avg_answer_rate, group = fk_company, color = fk_company))
query_7 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = avg_answer_rate, group = fk_company, color = fk_company))+
facet_wrap(~fk_company)
sql_syntax <- readr::read_file("C:/Users/francisco.piccolo/Desktop/R/01.DFT Research/nps_analysis_success_page_answers_rate/queries.sql")
query_7 <- RJDBC::dbGetQuery(jconn,substr(sql_syntax,min(stringr::str_locate(string=sql_syntax,'-- query_7_begin')),max(stringr::str_locate(string=sql_syntax,'-- query_7_end'))))
query_7$sale_date <- lubridate::ymd(query_7$sale_date)
query_7 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = avg_answer_rate, group = fk_company, color = fk_company))+
facet_wrap(~fk_company)
query_1 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = fk_company, color = fk_company))+
scale_y_continuous(labels = scales::percent)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(legend.position = "none")+
facet_wrap(~fk_company)+
labs(title = "Sucess Page Answer Rate",
y = "% GTV scored",
caption = "GTV not cancelled and not not invalid")
query_2 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = payment_method, color = payment_method))+
facet_wrap(~payment_method)
query_3 %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = is_marketplace_in, color = is_marketplace_in))+
facet_wrap(~payment_method)
query_4 %>%
mutate(is_first_order = as.factor(is_first_order),
year = substr(sale_date,0,4),
year_day = lubridate::yday(sale_date)) %>%
ggplot()+
geom_line(mapping = aes(x = year_day, y = answer_rate, group = year, color = year))+
facet_wrap(~is_first_order)
query_6 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = share_first_order, group = fk_company, color = fk_company))
query_7 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = avg_answer_rate, group = fk_company, color = fk_company))+
facet_wrap(~fk_company)
query_1$sale_date <- lubridate::ymd(query_1$sale_date)
query_1 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = fk_company, color = fk_company))+
scale_y_continuous(labels = scales::percent)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(legend.position = "none")+
facet_wrap(~fk_company)+
labs(title = "Sucess Page Answer Rate",
y = "% GTV scored",
caption = "GTV not cancelled and not not invalid")
query_1 %>%
mutate(fk_company = as.factor(fk_company)) %>%
ggplot()+
geom_line(mapping = aes(x = sale_date, y = answer_rate, group = fk_company, color = fk_company))+
scale_y_continuous(labels = scales::percent)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(legend.position = "none")+
facet_wrap(~fk_company)+
labs(title = "Sucess Page Answer Rate",
y = "% GTV scored",
x = "",
caption = "GTV not cancelled and not not invalid")
library(tidyverse)
library(DAAG)
library(Amelia)
library(patchwork)
theme_graph <- function(){
theme(
plot.title = element_text(size = 16),
plot.subtitle = element_text(size = 12),
plot.caption = element_text(face = "italic", size = 9),
axis.text = element_text(size = 9),
axis.title = element_text(face = "italic", size = 9),
text = element_text(family = "Times New Roman"),
strip.background = element_rect(fill = "grey"),
strip.text = element_text(face = "bold"),
legend.title = element_blank(),
legend.position = "bottom"
)
}
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = graph_color, alpha = .8)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(y = earconch, fill = sex))+
geom_boxplot()+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = graph_color, alpha = .8)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = graph_color, alpha = .4)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = "darkred", alpha = .4, color = "darkred")+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = "darkred", alpha = .4, color = "darkred", size = 1)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = "darkred", alpha = .2, color = "darkred", size = 1)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = "darkred", alpha = .2, color = "darkred", size = 1.4)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_density(fill = "darkred", alpha = .2, color = "darkred", size = 1)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot(aes(x = earconch))+
geom_histogram(fill = "darkred", alpha = .2, color = "darkred", size = 1)+
theme_graph()+
labs(title = "Earconch distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot2::ggplot()+
geom_histogram(mapping = aes(x = earconch),
fill = "darkred",
alpha = .2,
color = "darkred",
size = 2)
DAAG::possum %>%
ggplot2::ggplot()+
geom_histogram(mapping = aes(x = earconch),
fill = "darkred",
alpha = .2,
color = "darkred",
size = 1)
DAAG::possum %>%
ggplot2::ggplot()+
geom_histogram(mapping = aes(x = earconch),
fill = "darkred",
alpha = .2,
color = "darkred",
size = 1)+
theme_graph()
DAAG::possum %>%
ggplot2::ggplot()+
geom_histogram(mapping = aes(x = earconch),
fill = "darkred",
alpha = .2,
color = "darkred",
size = 1)+
theme_graph()+
labs(title = "Earconch Distribution")
DAAG::possum %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = earconch),
fill = sex)+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = earconch, fill = sex))+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = earconch, fill = sex))+
scale_colour_viridis_d()+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = earconch, fill = sex))+
scale_colour_viridis_c()+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = earconch, fill = sex))+
scale_fill_viridis_d()+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::possum %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = earconch, fill = sex),
alpha = .2)+
scale_fill_viridis_d()+
theme_graph()+
labs(title = "Earconch box plot distribution",
x = "",
y = "")
DAAG::ais %>%
mutate(red_cell_count = rcc,
white_cell_count = wcc,
hematrocit_percent = hc,
hemaglobin_concentration = hg,
plasma_ferritins = ferr,
body_mass_index = bmi
) %>%
select(sport,
sex,
red_cell_count,
white_cell_count,
hematrocit_percent,
hemaglobin_concentration,
plasma_ferritins,
body_mass_index) %>%
filter(sex == "m") %>%
tidyr::gather(key = "campo",value = "valor", 3:8) %>%
mutate(sport = fct_reorder(sport, valor, .desc = F)) %>%
ggplot(aes(y = valor, fill = sport))+
geom_boxplot(alpha = .6)+
theme_graph()+
labs(
title = "Metrics variations accross sport and genre",
subtitle = "Genre = Male",
x = "",
y = ""
)+
facet_wrap(~campo,scales = "free")
y <- rnorm(100)
tibble(mean = mean(y),
sd = sd(y))
# Creating an empty variable with 25 slots
saida <- rep(NA,25)
# Creating the for loop
for(i in 1:25){
output[i] <- data.frame(
mean(rnorm(100))
)
}
# Criando um data.frame com o resultado acima
df <- data.frame(
a = matrix(unlist(output),nrow = 25,byrow = F), stringsAsFactors = F)
# Creating the for loop
for(i in 1:25){
output[i] <- data.frame(
mean(rnorm(100))
)
}
# Criando um data.frame com o resultado acima
df <- data.frame(
a = matrix(unlist(output),nrow = 25,byrow = F), stringsAsFactors = F)
# Creating an empty variable with 25 slots
output <- rep(NA,25)
# Creating the for loop
for(i in 1:25){
output[i] <- data.frame(
mean(rnorm(100))
)
}
# Criando um data.frame com o resultado acima
df <- data.frame(
a = matrix(unlist(output),nrow = 25,byrow = F), stringsAsFactors = F)
tibble(mean = mean(df[,1]),
sd = sd(df[,1]))
# Calculating the mean and sd
tibble(mean = mean(df[,1]),
sd = sd(df[,1]))
# Creating the function, x = repetitions, y = random samples
fun <- function(x, y){
output <- rep(NA, x)
for(i in 1:x){
output[i] <- data.frame(
round(mean(rnorm(y)), digits = 2)
)
}
df <- data.frame(
a = matrix(unlist(output),nrow = x,byrow = T), stringsAsFactors = F)
}
# Running the function and ploting the results
fun(25,100) %>%
ggplot(aes(x = a))+
geom_density(fill = "dark orange", alpha = .4)+
theme_graph()
# Running the function and ploting the results
fun(25,100) %>%
ggplot2::ggplot()+
geom_density(mapping = aes(x = a),
fill = "dark orange",
alpha = .2)
# Running the function and ploting the results
fun(25,100) %>%
ggplot2::ggplot()+
geom_density(mapping = aes(x = a),
fill = "dark orange",
alpha = .2)+
theme_graph()
# Running the function and ploting the results
fun(25,100) %>%
ggplot2::ggplot()+
geom_density(mapping = aes(x = a),
fill = "dark orange",
alpha = .2)+
theme_graph()
# Running the function and ploting the results
fun(25, 100) %>%
ggplot2::ggplot()+
geom_density(mapping = aes(x = a),
fill = "dark orange",
alpha = .2)+
theme_graph()+
labs(title = "Density plot for ")
library(tidyverse)
df <- data.frame(x = seq(1, 10, by = 1),
y = sin(x))
df <- data.frame(x = seq(1, 10, by = 1),
y = sin(x))
df %>%
mutate(y = sin(x))
df <- data.frame(x = seq(1, 10, by = 1))
df %>%
mutate(y = sin(x))
df %>%
mutate(y = sin(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))
df <- data.frame(x = seq(1, 100, by = 1))
df %>%
mutate(y = sin(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))
df <- data.frame(x = seq(1, 10, by = .1))
df %>%
mutate(y = sin(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))
df <- data.frame(x = seq(1, 100, by = .1))
df %>%
mutate(y = sin(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))
df %>%
mutate(y = sin(x),
y_2 = cos(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))+
geom_line(mapping = aes(x = x, y = y_2))
df <- data.frame(x = seq(1, 20, by = .1))
df %>%
mutate(y = sin(x),
y_2 = cos(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))+
geom_line(mapping = aes(x = x, y = y_2))
df %>%
mutate(y = sin(x),
y_2 = cos(x)) %>%
ggplot()+
geom_line(mapping = aes(x = x, y = y))+
geom_line(mapping = aes(x = x, y = y_2))+
geom_vline(xintercept = 0)
6.318381309509277-5.428779602050781
qt(0.95, 8)
qt(0.975, 8)
blogdown::serve_site()
setwd(dir = "C:/Users/francisco.piccolo/Desktop/R/franciscopiccolo.github.io")
blogdown::serve_site()
blogdown::stop_server()
(33-7)
55-7
26/48
(33-7)/(53-7)

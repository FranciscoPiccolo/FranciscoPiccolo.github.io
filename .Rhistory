plots <- (g1+g2)/(g4|g5|g3)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison")
g1 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = age, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g2 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = educ, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g3 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g4 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re75, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g5 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re78, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
# Putting all graphs together
plots <- (g1+g2)/(g4|g5|g3)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison")
g1 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = age, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g2 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = educ, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g3 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g4 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re75, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g5 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re78, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
# Putting all graphs together
plots <- (g1+g2)/(g4|g5|g3)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison")
g1 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = age, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme(axis.text.x = element_blank())+
theme_graph()
g2 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = educ, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g3 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g4 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re75, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g5 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re78, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
# Putting all graphs together
plots <- (g1+g2)/(g4|g5|g3)
# Putting all graphs together
plots <- (g1+g2)/(g4|g5|g3)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison")
DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = age, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme(axis.text.x = element_blank())+
theme_graph()
DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = educ, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g3 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt))+
scale_y_log10(labels = scales::continuous)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g1 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = age, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme(axis.text.x = element_blank())+
theme_graph()
g2 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = educ, group = trt, color = trt))+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g3 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt))+
scale_y_log10(labels = scales::comma)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g4 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re75, group = trt, color = trt))+
scale_y_log10(labels = scales::comma)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g5 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re78, group = trt, color = trt))+
scale_y_log10(labels = scales::comma)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
# Putting all graphs together
plots <- (g1+g2)/(g4|g5|g3)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison")
g1 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = age, group = trt, color = trt),
outlier.shape = 20,
outlier.color = "black")+
scale_color_brewer(type = "qual")+
theme(axis.text.x = element_blank())+
theme_graph()
g2 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = educ, group = trt, color = trt),
outlier.shape = 20,
outlier.color = "black")+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g3 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re74, group = trt, color = trt),
outlier.shape = 20,
outlier.color = "black")+
scale_y_log10(labels = scales::comma)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g4 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re75, group = trt, color = trt),
outlier.shape = 20,
outlier.color = "black")+
scale_y_log10(labels = scales::comma)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
g5 <- DAAG::nsw74psid1 %>%
mutate(trt = as.factor(trt)) %>%
ggplot2::ggplot()+
geom_boxplot(mapping = aes(y = re78, group = trt, color = trt),
outlier.shape = 20,
outlier.color = "black")+
scale_y_log10(labels = scales::comma)+
scale_color_brewer(type = "qual")+
theme_graph()+
theme(axis.text.x = element_blank())
# Putting all graphs together
plots <- (g1+g2)/(g4|g5|g3)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison")
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison",
subtitle = "Control (0) and trated (1) groups")
# Putting all graphs together
plots <- (g1+g2)/(g3|g4|g5)
plots +
plot_layout(guides = "collect")+
plot_annotation(title = "Continuous variables comparison",
subtitle = "Control (0) and treated (1) groups")
setwd(dir = "C:/Users/francisco.piccolo/Desktop/R/franciscopiccolo.github.io")
blogdown::serve_site()
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
income_74_lower_limit = avg_income_74 - sem_74_times_critical_t,
income_74_upper_limit = avg_income_74 + sem_74_times_critical_t,
income_75_lower_limit = avg_income_75 - sem_74_times_critical_t,
income_75_upper_limit = avg_income_75 + sem_74_times_critical_t,
income_78_lower_limit = avg_income_78 - sem_74_times_critical_t,
income_78_upper_limit = avg_income_78 + sem_74_times_critical_t) %>%
select(income_74_lower_limit,
income_74_upper_limit,
income_75_lower_limit,
income_75_upper_limit,
income_78_lower_limit,
income_78_upper_limit)
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
income_74_lower_limit = avg_income_74 - sem_74_times_critical_t,
income_74_upper_limit = avg_income_74 + sem_74_times_critical_t,
income_75_lower_limit = avg_income_75 - sem_74_times_critical_t,
income_75_upper_limit = avg_income_75 + sem_74_times_critical_t,
income_78_lower_limit = avg_income_78 - sem_74_times_critical_t,
income_78_upper_limit = avg_income_78 + sem_74_times_critical_t) %>%
select(group,
income_74_lower_limit,
income_74_upper_limit,
income_75_lower_limit,
income_75_upper_limit,
income_78_lower_limit,
income_78_upper_limit)
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc_74_upper = avg_income_74 + sem_74_times_critical_t,
inc_75_lower = avg_income_75 - sem_74_times_critical_t,
inc_75_upper = avg_income_75 + sem_74_times_critical_t,
inc_78_lower = avg_income_78 - sem_74_times_critical_t,
inc_78_upper = avg_income_78 + sem_74_times_critical_t) %>%
select(group,
inc74_lower,
inc_74_upper,
inc_75_lower,
inc_75_upper,
inc_78_lower,
inc_78_upper)
blogdown::stop_server()
blogdown::serve_site()
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc_74_upper = avg_income_74 + sem_74_times_critical_t,
inc_75_lower = avg_income_75 - sem_74_times_critical_t,
inc_75_upper = avg_income_75 + sem_74_times_critical_t,
inc_78_lower = avg_income_78 - sem_74_times_critical_t,
inc_78_upper = avg_income_78 + sem_74_times_critical_t) %>%
select(group,
inc74_lower,
inc_74_upper,
inc_75_lower,
inc_75_upper,
inc_78_lower,
inc_78_upper) %>%
pander::pander()
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc_74_upper = avg_income_74 + sem_74_times_critical_t,
inc_75_lower = avg_income_75 - sem_74_times_critical_t,
inc_75_upper = avg_income_75 + sem_74_times_critical_t,
inc_78_lower = avg_income_78 - sem_74_times_critical_t,
inc_78_upper = avg_income_78 + sem_74_times_critical_t) %>%
select(group,
inc74_lower,
inc_74_upper,
inc_75_lower,
inc_75_upper,
inc_78_lower,
inc_78_upper) %>%
knitr::kable()
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc_74_upper = avg_income_74 + sem_74_times_critical_t,
inc_75_lower = avg_income_75 - sem_74_times_critical_t,
inc_75_upper = avg_income_75 + sem_74_times_critical_t,
inc_78_lower = avg_income_78 - sem_74_times_critical_t,
inc_78_upper = avg_income_78 + sem_74_times_critical_t) %>%
select(group,
inc74_lower,
inc_74_upper,
inc_75_lower,
inc_75_upper,
inc_78_lower,
inc_78_upper) %>%
knitr::kable("markdown")
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc_74_upper = avg_income_74 + sem_74_times_critical_t,
inc_75_lower = avg_income_75 - sem_74_times_critical_t,
inc_75_upper = avg_income_75 + sem_74_times_critical_t,
inc_78_lower = avg_income_78 - sem_74_times_critical_t,
inc_78_upper = avg_income_78 + sem_74_times_critical_t) -> df
df %>%
select(inc_74_lower,
inc_74_upper)
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc_74_upper = avg_income_74 + sem_74_times_critical_t,
inc_75_lower = avg_income_75 - sem_74_times_critical_t,
inc_75_upper = avg_income_75 + sem_74_times_critical_t,
inc_78_lower = avg_income_78 - sem_74_times_critical_t,
inc_78_upper = avg_income_78 + sem_74_times_critical_t) -> df
DAAG::nsw74demo %>%
mutate(group = ifelse(trt == 0, "control","test")) %>%
group_by(group) %>%
summarise(n = n(),
avg_income_74 = mean(re74),
avg_income_75 = mean(re75),
avg_income_78 = mean(re78),
sem_74 = sd(re74)/sqrt(n),
sem_75 = sd(re75)/sqrt(n),
sem_78 = sd(re78)/sqrt(n)) %>%
mutate(critical_t = qt(0.975, n),
sem_74_times_critical_t = sem_74 * critical_t,
sem_75_times_critical_t = sem_75 * critical_t,
sem_78_times_critical_t = sem_78 * critical_t,
inc74_lower = avg_income_74 - sem_74_times_critical_t,
inc74_upper = avg_income_74 + sem_74_times_critical_t,
inc75_lower = avg_income_75 - sem_74_times_critical_t,
inc75_upper = avg_income_75 + sem_74_times_critical_t,
inc78_lower = avg_income_78 - sem_74_times_critical_t,
inc78_upper = avg_income_78 + sem_74_times_critical_t) -> df
df %>%
select(inc_74_lower,
inc_74_upper)
df %>%
select(inc74_lower,
inc74_upper)
df %>%
select(inc78_lower,
inc78_upper)
blogdown::stop_server()
